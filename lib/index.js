!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.index=t():e.index=t()}(this,(()=>(()=>{"use strict";var e={250:(e,t,i)=>{i.d(t,{default:()=>r});class r{constructor(e){this.allowedChar=!1,this.charMap={},this.autoChange=!1,this.infix=e.infix,e.allowedChar&&(this.allowedChar=e.allowedChar),e.charMap&&(this.charMap=e.charMap),e.autoChange&&(this.autoChange=e.autoChange);const t=this._infixCalculate(this.infix);this.isLegal=t.isLegal,this.result=t.result,this.isLegal&&(this.formula=e.infix.join(""),this.minRes=this._calculateMin(this.infix),this.maxRes=this._calculateMax(this.infix))}_infixCalculate(e,t=this.allowedChar){let i={isLegal:!1,result:0};if(t){i.result=void 0;let t=[],r=0,s=0;for(let n=0;n<e.length;n++)if("("===e[n])t.push(e[n]);else if(")"===e[n]){let r=t.pop();if(0===n)return i;if("("!==r||"("===e[n-1])return i}else if(this._isOperator(e[n])){if(n+1===e.length||0===n)return i;if(this._isOperator(e[n+1])||this._isOperator(e[n-1]))return i;r++}else s++;if(0!==t.length)return i;if(r+1!==s)return i}else{let t=[],r=[],s=!1;for(let n=0;n<e.length;n++){if(void 0===e[n]||null===e[n])return i;if("("===e[n]||this._isOperator(e[n]))t.push(e[n]);else if(this._isOperand(e[n])&&r.push(e[n]),")"===e[n]||n+1===e.length&&0!==t.length){let a=t[t.length-1];if(s&&")"===e[n])return i;for(;"("!==a;){let e=t.length-1,s=r.length-1;for(;0!==t.length&&this._ge(t[e-1],t[e]);)e--,s--;let n=r[s],l=r[s-1];if(a=t[e],void 0===l||void 0===n)return i;if(("/"===a||"÷"===a)&&0===n)return i;if("string"!=typeof l&&"string"!=typeof n||console.warn("you should set autoChange to true"),r.splice(s-1,2,this._cal(Number(l),a,Number(n))),t.splice(e,1),0===t.length)break;a=t[t.length-1]}t.pop()}s=this._isOpOrBracket(e[n])}if(t.length+1!==r.length)return i;i.result=r.pop()}return i.isLegal=!0,i}_calculateMin(e,t="min",i=this.autoChange){let r=e.concat();for(let e=0;e<r.length;e++){let s=this.charMap[r[e]];if(i&&!Number.isNaN(Number(r[e])))r[e]=Number(r[e]);else if(!this._isOpOrBracket(r[e])&&"number"!=typeof r[e]){if(void 0===s)return void console.log(`charMap ${r[e]} is undefined`);if(Number.isNaN(Number(s[t])))return void console.error(`${r[e]}.${t} is NaN`);r[e]=Number(s[t])}}return this._infixCalculate(r,!1).result}_calculateMax(e,t="max",i=this.autoChange){let r=e.concat();for(let e=0;e<r.length;e++){let s=this.charMap[r[e]];if(i&&!Number.isNaN(Number(r[e])))r[e]=Number(r[e]);else if(!this._isOpOrBracket(r[e])&&"number"!=typeof r[e]){if(void 0===s)return void console.log(`charMap ${r[e]} is undefined`);if(Number.isNaN(Number(s[t])))return void console.error(`${r[e]}.${t} is NaN`);r[e]=Number(s[t])}}return this._infixCalculate(r,!1).result}_cal(e,t,i){switch(t){case"+":return e+i;case"-":return e-i;case"*":case"×":return e*i;case"/":case"÷":return e/i}}_replace(e){switch(e){case"(":return 0;case"+":return 1;case"-":return 2;case"*":case"×":return 3;case"/":case"÷":return 4}}_isOperator(e){return/^[\+\-\*\/÷×]$/.test(String(e))}_isOpOrBracket(e){return/^[\+\-\*\/\(\)×÷]$/.test(String(e))}_isOperand(e){return!Number.isNaN(Number(e))}_ge(e,t){return this._replace(t)<=this._replace(e)}}},837:(e,t,i)=>{i.d(t,{default:()=>r});const r=class{static format(e,t){const i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()},r=/(y+)/.exec(t);r&&(t=t.replace(r[1],(e.getFullYear()+"").substring(4-r[1].length)));const s=/(w+)/.exec(t);s&&(t=t.replace(s[1],["日","一","二","三","四","五","六"][e.getDay()]));for(const e in i){const r=new RegExp("("+e+")").exec(t);if(r){const s=1==r[1].length?i[e]:("00"+i[e]).substring((""+i[e]).length);t=t.replace(r[1],String(s))}}return t}static newDate(e){return this.format(new Date,e)}}},587:(e,t,i)=>{i.d(t,{default:()=>r});const r=class{constructor(e,t,i){this.statSync=e,this.readdirSync=t,this.readFile=i}pathJoin(...e){return e.map((e=>e.replace(/^\/|\/$/g,""))).join("\\")}isFile(e){return this.statSync(e).isFile()}isDir(e){return this.statSync(e).isDirectory()}getFileType(e){const t=e.split(".");return t[t.length-1]}getAllFilesInfo(e,t){const i=[],r=(e,t,i)=>{const s=this.readdirSync(e);for(let n=0;n<s.length;n++){const a=s[n],l=this.pathJoin(e,a);if(this.isFile(l)){const e=a.split("."),t=e[0],r=e[1];i.push({path:l,name:a,title:t,type:r})}else t&&r(l,t,i)}};return r(e,t,i),i}getAllImgFilesInfo(e,t){return this.getAllFilesInfo(e,t).filter((e=>["jpg","png","jpeg"].includes(e.type)))}imgsFolderWatch({dir:e,deep:t,gap:i,initFunc:r,endFunc:s,changeFunc:n}){r&&r();let a=0;const l=setInterval((()=>{const i=this.getAllImgFilesInfo(e,t);s&&s(i)&&clearInterval(l),a!=i.length&&(n(i),a=i.length)}),i);return l}changeImgFile2Base64({path:e,cb:t}){return new Promise(((i,r)=>{this.readFile(e,((r,s)=>{if(r)console.error(r),i("");else{const r=`data:image/${this.getFileType(e)};base64,${s.toString("base64")}`;t&&t(r),i(r)}}))}))}getAllImgFilesBase64(e,t){return new Promise(((i,r)=>{const s=this.getAllImgFilesInfo(e,t);let n=0;for(let e=0;e<s.length;e++){const t=s[e],r=e=>{t.url=e,n++,n===s.length&&i(s)};this.changeImgFile2Base64({path:t.path,cb:r})}}))}}},373:(e,t,i)=>{i.d(t,{default:()=>r});const r=class{get isLoading(){return this.loading}constructor(e){this.params={funcList:[],argsList:[],intervalTime:1e3},Object.assign(this.params,e)}next(){return e=this,t=void 0,r=function*(){this.loading=!0;const e=this.params.funcList.shift();if(e){const t=this.params.argsList.shift();yield e(t)}this.loading=!1},new((i=void 0)||(i=Promise))((function(s,n){function a(e){try{o(r.next(e))}catch(e){n(e)}}function l(e){try{o(r.throw(e))}catch(e){n(e)}}function o(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,l)}o((r=r.apply(e,t||[])).next())}));var e,t,i,r}push(e,t){this.params.funcList.push(e),this.params.argsList.push(t)}start(){this.end(),this.interval=setInterval((()=>{this.loading||this.next()}),this.params.intervalTime)}end(){clearInterval(this.interval),this.params.funcList=[],this.params.argsList=[],this.loading=!1}}}},t={};function i(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,i),n.exports}i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};i.r(r),i.d(r,{CalculateFormula:()=>a.default,DateUtils:()=>n.default,FileUtils:()=>s.default,FuncQueue:()=>l.default});var s=i(587),n=i(837),a=i(250),l=i(373);return r})()));